<div class="container">
  <div 
    *ngIf="spinnerState"
    class="spinner-container">
      <mat-spinner
      [mode]="'indeterminate'"
      [value]="50">
    </mat-spinner>
  </div>
  <mat-table
      multiTemplateDataRows
      [dataSource]=dataSource
      matSort
      matSortDisableClear>
        <ng-container
          *ngFor="let column of columns"
          cdkColumnDef="{{column.columnDef}}">
          <mat-header-cell
            *cdkHeaderCellDef
            mat-sort-header>
            <span class="header-name">
              {{ column.header }}
            </span>
          </mat-header-cell>
          <mat-cell
            *cdkCellDef="let row">
            {{getValue(column, row)}}
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="expandedDetail">
          <td mat-cell *matCellDef="let element" [attr.colspan]="displayedColumns.length">
            <div class="example-element-detail"
                 [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
              <div class="example-element-diagram">
                <div class="example-element-position"> 1 </div>
                <div class="example-element-symbol"> 2 </div>
                <div class="example-element-name"> 3 </div>
                <div class="example-element-weight"> 4 </div>
              </div>
              <div class="example-element-description">
                {{element.description}}
                <span class="example-element-description-attribution"> -- Wikipedia </span>
              </div>
            </div>
          </td>
        </ng-container>

    <mat-header-row *cdkHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row 
    (click)="expandedElement = expandedElement === element ? null : element"
    *cdkRowDef="let row; columns: displayedColumns"></mat-row>
    <mat-row *cdkRowDef="let row; columns: ['expandedDetail']"></mat-row>
  </mat-table>

</div>